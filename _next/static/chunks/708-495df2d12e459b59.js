(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{1026:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let r=i(4232);function n(e,t){let i=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=i.current;e&&(i.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(i.current=s(e,r)),t&&(n.current=s(t,r))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let i=e(t);return"function"==typeof i?i:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1639:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return k},useLinkStatus:function(){return x}});let r=i(8365),n=i(7876),s=r._(i(4232)),l=i(6658),o=i(1851),h=i(6225),u=i(8407),f=i(2696),a=i(8265),c=i(2343),d=i(8940),p=i(7469),g=i(1026);i(3724);let m=new Set;function y(e,t,i,r){if((0,o.isLocalURL)(t)){if(!r.bypassPrefetchedCheck){let n=t+"%"+i+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(m.has(n))return;m.add(n)}e.prefetch(t,i,r).catch(e=>{})}}function b(e){return"string"==typeof e?e:(0,h.formatUrl)(e)}let w=s.default.forwardRef(function(e,t){let i,r,{href:h,as:m,children:w,prefetch:v=null,passHref:x,replace:k,shallow:_,scroll:j,locale:M,onClick:S,onNavigate:C,onMouseEnter:P,onTouchStart:z,legacyBehavior:O=!1,...E}=e;i=w,O&&("string"==typeof i||"number"==typeof i)&&(i=(0,n.jsx)("a",{children:i}));let R=s.default.useContext(a.RouterContext),A=!1!==v,{href:D,as:I}=s.default.useMemo(()=>{if(!R){let e=b(h);return{href:e,as:m?b(m):e}}let[e,t]=(0,l.resolveHref)(R,h,!0);return{href:e,as:m?(0,l.resolveHref)(R,m):t||e}},[R,h,m]),L=s.default.useRef(D),B=s.default.useRef(I);O&&(r=s.default.Children.only(i));let N=O?r&&"object"==typeof r&&r.ref:t,[T,F,$]=(0,c.useIntersection)({rootMargin:"200px"}),G=s.default.useCallback(e=>{(B.current!==I||L.current!==D)&&($(),B.current=I,L.current=D),T(e)},[I,D,$,T]),J=(0,g.useMergedRef)(G,N);s.default.useEffect(()=>{R&&F&&A&&y(R,D,I,{locale:M})},[I,D,F,M,A,null==R?void 0:R.locale,R]);let U={ref:J,onClick(e){O||"function"!=typeof S||S(e),O&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),R&&(e.defaultPrevented||function(e,t,i,r,n,s,l,h,u){let{nodeName:f}=e.currentTarget;if(!("A"===f.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,o.isLocalURL)(i)){n&&(e.preventDefault(),location.replace(i));return}e.preventDefault(),(()=>{if(u){let e=!1;if(u({preventDefault:()=>{e=!0}}),e)return}let e=null==l||l;"beforePopState"in t?t[n?"replace":"push"](i,r,{shallow:s,locale:h,scroll:e}):t[n?"replace":"push"](r||i,{scroll:e})})()}}(e,R,D,I,k,_,j,M,C))},onMouseEnter(e){O||"function"!=typeof P||P(e),O&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),R&&y(R,D,I,{locale:M,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){O||"function"!=typeof z||z(e),O&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),R&&y(R,D,I,{locale:M,priority:!0,bypassPrefetchedCheck:!0})}};if((0,u.isAbsoluteUrl)(I))U.href=I;else if(!O||x||"a"===r.type&&!("href"in r.props)){let e=void 0!==M?M:null==R?void 0:R.locale;U.href=(null==R?void 0:R.isLocaleDomain)&&(0,d.getDomainLocale)(I,e,null==R?void 0:R.locales,null==R?void 0:R.domainLocales)||(0,p.addBasePath)((0,f.addLocale)(I,e,null==R?void 0:R.defaultLocale))}return O?s.default.cloneElement(r,U):(0,n.jsx)("a",{...E,...U,children:i})}),v=(0,s.createContext)({pending:!1}),x=()=>(0,s.useContext)(v),k=w;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2343:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return h}});let r=i(4232),n=i(4754),s="function"==typeof IntersectionObserver,l=new Map,o=[];function h(e){let{rootRef:t,rootMargin:i,disabled:h}=e,u=h||!s,[f,a]=(0,r.useState)(!1),c=(0,r.useRef)(null),d=(0,r.useCallback)(e=>{c.current=e},[]);return(0,r.useEffect)(()=>{if(s){if(u||f)return;let e=c.current;if(e&&e.tagName)return function(e,t,i){let{id:r,observer:n,elements:s}=function(e){let t,i={root:e.root||null,margin:e.rootMargin||""},r=o.find(e=>e.root===i.root&&e.margin===i.margin);if(r&&(t=l.get(r)))return t;let n=new Map;return t={id:i,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=n.get(e.target),i=e.isIntersecting||e.intersectionRatio>0;t&&i&&t(i)})},e),elements:n},o.push(i),l.set(i,t),t}(i);return s.set(e,t),n.observe(e),function(){if(s.delete(e),n.unobserve(e),0===s.size){n.disconnect(),l.delete(r);let e=o.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&a(e),{root:null==t?void 0:t.current,rootMargin:i})}else if(!f){let e=(0,n.requestIdleCallback)(()=>a(!0));return()=>(0,n.cancelIdleCallback)(e)}},[u,i,t,f,c.current]),[d,f,(0,r.useCallback)(()=>{a(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2439:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return v}});let r=i(4252),n=i(8365),s=i(7876),l=n._(i(4232)),o=r._(i(8477)),h=r._(i(9836)),u=i(4915),f=i(6904),a=i(72);i(546);let c=i(8265),d=r._(i(3829)),p=i(1026),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/your-repository-name/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function m(e,t,i,r,n,s,l){let o=null==e?void 0:e.src;e&&e["data-loaded-src"]!==o&&(e["data-loaded-src"]=o,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&n(!0),null==i?void 0:i.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,n=!1;i.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>n,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{n=!0,t.stopPropagation()}})}(null==r?void 0:r.current)&&r.current(e)}}))}function y(e){return l.use?{fetchPriority:e}:{fetchpriority:e}}let b=(0,l.forwardRef)((e,t)=>{let{src:i,srcSet:r,sizes:n,height:o,width:h,decoding:u,className:f,style:a,fetchPriority:c,placeholder:d,loading:g,unoptimized:b,fill:w,onLoadRef:v,onLoadingCompleteRef:x,setBlurComplete:k,setShowAltText:_,sizesInput:j,onLoad:M,onError:S,...C}=e,P=(0,l.useCallback)(e=>{e&&(S&&(e.src=e.src),e.complete&&m(e,d,v,x,k,b,j))},[i,d,v,x,k,S,b,j]),z=(0,p.useMergedRef)(t,P);return(0,s.jsx)("img",{...C,...y(c),loading:g,width:h,height:o,decoding:u,"data-nimg":w?"fill":"1",className:f,style:a,sizes:n,srcSet:r,src:i,ref:z,onLoad:e=>{m(e.currentTarget,d,v,x,k,b,j)},onError:e=>{_(!0),"empty"!==d&&k(!0),S&&S(e)}})});function w(e){let{isAppRouter:t,imgAttributes:i}=e,r={as:"image",imageSrcSet:i.srcSet,imageSizes:i.sizes,crossOrigin:i.crossOrigin,referrerPolicy:i.referrerPolicy,...y(i.fetchPriority)};return t&&o.default.preload?(o.default.preload(i.src,r),null):(0,s.jsx)(h.default,{children:(0,s.jsx)("link",{rel:"preload",href:i.srcSet?void 0:i.src,...r},"__nimg-"+i.src+i.srcSet+i.sizes)})}let v=(0,l.forwardRef)((e,t)=>{let i=(0,l.useContext)(c.RouterContext),r=(0,l.useContext)(a.ImageConfigContext),n=(0,l.useMemo)(()=>{var e;let t=g||r||f.imageConfigDefault,i=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),n=t.deviceSizes.sort((e,t)=>e-t),s=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:i,deviceSizes:n,qualities:s}},[r]),{onLoad:o,onLoadingComplete:h}=e,p=(0,l.useRef)(o);(0,l.useEffect)(()=>{p.current=o},[o]);let m=(0,l.useRef)(h);(0,l.useEffect)(()=>{m.current=h},[h]);let[y,v]=(0,l.useState)(!1),[x,k]=(0,l.useState)(!1),{props:_,meta:j}=(0,u.getImgProps)(e,{defaultLoader:d.default,imgConf:n,blurComplete:y,showAltText:x});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b,{..._,unoptimized:j.unoptimized,placeholder:j.placeholder,fill:j.fill,onLoadRef:p,onLoadingCompleteRef:m,setBlurComplete:v,setShowAltText:k,sizesInput:e.sizes,ref:t}),j.priority?(0,s.jsx)(w,{isAppRouter:!i,imgAttributes:_}):null]})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3657:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{default:function(){return h},getImageProps:function(){return o}});let r=i(4252),n=i(4915),s=i(2439),l=r._(i(3829));function o(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/your-repository-name/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,i]of Object.entries(t))void 0===i&&delete t[e];return{props:t}}let h=s.Image},3724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"errorOnce",{enumerable:!0,get:function(){return i}});let i=e=>{}},3829:(e,t)=>{"use strict";function i(e){var t;let{config:i,src:r,width:n,quality:s}=e,l=s||(null==(t=i.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return i.path+"?url="+encodeURIComponent(r)+"&w="+n+"&q="+l+(r.startsWith("/_next/static/media/"),"")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),i.__next_img_default=!0;let r=i},4587:(e,t,i)=>{e.exports=i(3657)},4915:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return h}}),i(546);let r=i(5284),n=i(6904),s=["-moz-initial","fill","none","scale-down",void 0];function l(e){return void 0!==e.default}function o(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function h(e,t){var i,h;let u,f,a,{src:c,sizes:d,unoptimized:p=!1,priority:g=!1,loading:m,className:y,quality:b,width:w,height:v,fill:x=!1,style:k,overrideSrc:_,onLoad:j,onLoadingComplete:M,placeholder:S="empty",blurDataURL:C,fetchPriority:P,decoding:z="async",layout:O,objectFit:E,objectPosition:R,lazyBoundary:A,lazyRoot:D,...I}=e,{imgConf:L,showAltText:B,blurComplete:N,defaultLoader:T}=t,F=L||n.imageConfigDefault;if("allSizes"in F)u=F;else{let e=[...F.deviceSizes,...F.imageSizes].sort((e,t)=>e-t),t=F.deviceSizes.sort((e,t)=>e-t),r=null==(i=F.qualities)?void 0:i.sort((e,t)=>e-t);u={...F,allSizes:e,deviceSizes:t,qualities:r}}if(void 0===T)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let $=I.loader||T;delete I.loader,delete I.srcSet;let G="__next_img_default"in $;if(G){if("custom"===u.loader)throw Object.defineProperty(Error('Image with src "'+c+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=$;$=t=>{let{config:i,...r}=t;return e(r)}}if(O){"fill"===O&&(x=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[O];e&&(k={...k,...e});let t={responsive:"100vw",fill:"100vw"}[O];t&&!d&&(d=t)}let J="",U=o(w),q=o(v);if((h=c)&&"object"==typeof h&&(l(h)||void 0!==h.src)){let e=l(c)?c.default:c;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(f=e.blurWidth,a=e.blurHeight,C=C||e.blurDataURL,J=e.src,!x)if(U||q){if(U&&!q){let t=U/e.width;q=Math.round(e.height*t)}else if(!U&&q){let t=q/e.height;U=Math.round(e.width*t)}}else U=e.width,q=e.height}let K=!g&&("lazy"===m||void 0===m);(!(c="string"==typeof c?c:J)||c.startsWith("data:")||c.startsWith("blob:"))&&(p=!0,K=!1),u.unoptimized&&(p=!0),G&&!u.dangerouslyAllowSVG&&c.split("?",1)[0].endsWith(".svg")&&(p=!0);let H=o(b),W=Object.assign(x?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:E,objectPosition:R}:{},B?{}:{color:"transparent"},k),V=N||"empty"===S?null:"blur"===S?'url("data:image/svg+xml;charset=utf-8,'+(0,r.getImageBlurSvg)({widthInt:U,heightInt:q,blurWidth:f,blurHeight:a,blurDataURL:C||"",objectFit:W.objectFit})+'")':'url("'+S+'")',X=s.includes(W.objectFit)?"fill"===W.objectFit?"100% 100%":"cover":W.objectFit,Y=V?{backgroundSize:X,backgroundPosition:W.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:V}:{},Z=function(e){let{config:t,src:i,unoptimized:r,width:n,quality:s,sizes:l,loader:o}=e;if(r)return{src:i,srcSet:void 0,sizes:void 0};let{widths:h,kind:u}=function(e,t,i){let{deviceSizes:r,allSizes:n}=e;if(i){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let r;r=e.exec(i);)t.push(parseInt(r[2]));if(t.length){let e=.01*Math.min(...t);return{widths:n.filter(t=>t>=r[0]*e),kind:"w"}}return{widths:n,kind:"w"}}return"number"!=typeof t?{widths:r,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>n.find(t=>t>=e)||n[n.length-1]))],kind:"x"}}(t,n,l),f=h.length-1;return{sizes:l||"w"!==u?l:"100vw",srcSet:h.map((e,r)=>o({config:t,src:i,quality:s,width:e})+" "+("w"===u?e:r+1)+u).join(", "),src:o({config:t,src:i,quality:s,width:h[f]})}}({config:u,src:c,unoptimized:p,width:U,quality:H,sizes:d,loader:$});return{props:{...I,loading:K?"lazy":m,fetchPriority:P,width:U,height:q,decoding:z,className:y,style:{...W,...Y},sizes:Z.sizes,srcSet:Z.srcSet,src:_||Z.src},meta:{unoptimized:p,priority:g,placeholder:S,fill:x}}}},5284:(e,t)=>{"use strict";function i(e){let{widthInt:t,heightInt:i,blurWidth:r,blurHeight:n,blurDataURL:s,objectFit:l}=e,o=r?40*r:t,h=n?40*n:i,u=o&&h?"viewBox='0 0 "+o+" "+h+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===l?"xMidYMid":"cover"===l?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+s+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return i}})},7328:(e,t,i)=>{e.exports=i(9836)},8230:(e,t,i)=>{e.exports=i(1639)},8940:(e,t,i)=>{"use strict";function r(e,t,i,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),i(7810),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9776:(e,t,i)=>{"use strict";let r,n,s,l,o;function h(e,t,i){let r=typeof i,n=typeof e;if("undefined"!==r){if("undefined"!==n){if(i){if("function"===n&&r===n)return function(t){return e(i(t))};if((t=e.constructor)===i.constructor){if(t===Array)return i.concat(e);if(t===Map){var s=new Map(i);for(var l of e)s.set(l[0],l[1]);return s}if(t===Set){for(s of(l=new Set(i),e.values()))l.add(s);return l}}}return e}return i}return"undefined"===n?t:e}function u(){return Object.create(null)}function f(e){return"string"==typeof e}function a(e){return"object"==typeof e}function c(e,t){if(f(t))e=e[t];else for(let i=0;e&&i<t.length;i++)e=e[t[i]];return e}i.d(t,{Ay:()=>eE});let d=/[^\p{L}\p{N}]+/u,p=/(\d{3})/g,g=/(\D)(\d{3})/g,m=/(\d{3})(\D)/g,y=/[\u0300-\u036f]/g;function b(e={}){if(!this||this.constructor!==b)return new b(...arguments);if(arguments.length)for(e=0;e<arguments.length;e++)this.assign(arguments[e]);else this.assign(e)}function w(e){e.H=null,e.B.clear(),e.G.clear()}async function v(e){var t=(e=e.data).task;let i=e.id,s=e.args;if("init"===t)n=e.options||{},(t=e.factory)?(Function("return "+t)()(self),r=new self.FlexSearch.Index(n),delete self.FlexSearch):r=new e_(n),postMessage({id:i});else{let l;"export"===t&&(s[1]?(s[0]=n.export,s[2]=0,s[3]=1):s=null),"import"===t?s[0]&&(e=await n.import.call(r,s[0]),r.import(s[0],e)):(l=s&&r[t].apply(r,s))&&l.then&&(l=await l),postMessage("search"===t?{id:i,msg:l}:{id:i})}}function x(e){_.call(e,"add"),_.call(e,"append"),_.call(e,"search"),_.call(e,"update"),_.call(e,"remove")}function k(){s=o=0}function _(e){this[e+"Async"]=function(){let t,i=arguments;var r=i[i.length-1];if("function"==typeof r&&(t=r,delete i[i.length-1]),s?o||(o=Date.now()-l>=this.priority*this.priority*3):(s=setTimeout(k,0),l=Date.now()),o){let t=this;return new Promise(r=>{setTimeout(function(){r(t[e+"Async"].apply(t,i))},0)})}let n=this[e].apply(this,i);return r=n.then?n:new Promise(e=>e(n)),t&&r.then(t),r}}(ed=b.prototype).assign=function(e){this.normalize=h(e.normalize,!0,this.normalize);let t=e.include,i=t||e.exclude||e.split,r;if(i||""===i){if("object"==typeof i&&i.constructor!==RegExp){let e="";r=!t,t||(e+="\\p{Z}"),i.letter&&(e+="\\p{L}"),i.number&&(e+="\\p{N}",r=!!t),i.symbol&&(e+="\\p{S}"),i.punctuation&&(e+="\\p{P}"),i.control&&(e+="\\p{C}"),(i=i.char)&&(e+="object"==typeof i?i.join(""):i);try{this.split=RegExp("["+(t?"^":"")+e+"]+","u")}catch(e){this.split=/\s+/}}else this.split=i,r=!1===i||2>"a1a".split(i).length;this.numeric=h(e.numeric,r)}else{try{this.split=h(this.split,d)}catch(e){this.split=/\s+/}this.numeric=h(e.numeric,h(this.numeric,!0))}if(this.prepare=h(e.prepare,null,this.prepare),this.finalize=h(e.finalize,null,this.finalize),i=e.filter,this.filter="function"==typeof i?i:h(i&&new Set(i),null,this.filter),this.dedupe=h(e.dedupe,!0,this.dedupe),this.matcher=h((i=e.matcher)&&new Map(i),null,this.matcher),this.mapper=h((i=e.mapper)&&new Map(i),null,this.mapper),this.stemmer=h((i=e.stemmer)&&new Map(i),null,this.stemmer),this.replacer=h(e.replacer,null,this.replacer),this.minlength=h(e.minlength,1,this.minlength),this.maxlength=h(e.maxlength,1024,this.maxlength),this.rtl=h(e.rtl,!1,this.rtl),(this.cache=i=h(e.cache,!0,this.cache))&&(this.H=null,this.S="number"==typeof i?i:2e5,this.B=new Map,this.G=new Map,this.L=this.K=128),this.h="",this.M=null,this.A="",this.N=null,this.matcher)for(let e of this.matcher.keys())this.h+=(this.h?"|":"")+e;if(this.stemmer)for(let e of this.stemmer.keys())this.A+=(this.A?"|":"")+e;return this},ed.addStemmer=function(e,t){return this.stemmer||(this.stemmer=new Map),this.stemmer.set(e,t),this.A+=(this.A?"|":"")+e,this.N=null,this.cache&&w(this),this},ed.addFilter=function(e){return"function"==typeof e?this.filter=e:(this.filter||(this.filter=new Set),this.filter.add(e)),this.cache&&w(this),this},ed.addMapper=function(e,t){return"object"==typeof e?this.addReplacer(e,t):1<e.length?this.addMatcher(e,t):(this.mapper||(this.mapper=new Map),this.mapper.set(e,t),this.cache&&w(this),this)},ed.addMatcher=function(e,t){return"object"==typeof e?this.addReplacer(e,t):2>e.length&&(this.dedupe||this.mapper)?this.addMapper(e,t):(this.matcher||(this.matcher=new Map),this.matcher.set(e,t),this.h+=(this.h?"|":"")+e,this.M=null,this.cache&&w(this),this)},ed.addReplacer=function(e,t){return"string"==typeof e?this.addMatcher(e,t):(this.replacer||(this.replacer=[]),this.replacer.push(e,t),this.cache&&w(this),this)},ed.encode=function(e,t){if(this.cache&&e.length<=this.K)if(this.H){if(this.B.has(e))return this.B.get(e)}else this.H=setTimeout(w,50,this);this.normalize&&(e="function"==typeof this.normalize?this.normalize(e):y?e.normalize("NFKD").replace(y,"").toLowerCase():e.toLowerCase()),this.prepare&&(e=this.prepare(e)),this.numeric&&3<e.length&&(e=e.replace(g,"$1 $2").replace(m,"$1 $2").replace(p,"$1 "));let i=!(this.dedupe||this.mapper||this.filter||this.matcher||this.stemmer||this.replacer),r=[],n=u(),s,l,o=this.split||""===this.split?e.split(this.split):[e];for(let e=0,u,f;e<o.length;e++)if((u=f=o[e])&&!(u.length<this.minlength||u.length>this.maxlength)){if(t){if(n[u])continue;n[u]=1}else{if(s===u)continue;s=u}if(i)r.push(u);else if(!this.filter||("function"==typeof this.filter?this.filter(u):!this.filter.has(u))){if(this.cache&&u.length<=this.L)if(this.H){var h=this.G.get(u);if(h||""===h){h&&r.push(h);continue}}else this.H=setTimeout(w,50,this);if(this.stemmer){let e;for(this.N||(this.N=RegExp("(?!^)("+this.A+")$"));e!==u&&2<u.length;)e=u,u=u.replace(this.N,e=>this.stemmer.get(e))}if(u&&(this.mapper||this.dedupe&&1<u.length)){h="";for(let e=0,t="",i,r;e<u.length;e++)(i=u.charAt(e))===t&&this.dedupe||((r=this.mapper&&this.mapper.get(i))||""===r?(r!==t||!this.dedupe)&&(t=r)&&(h+=r):h+=t=i);u=h}if(this.matcher&&1<u.length&&(this.M||(this.M=RegExp("("+this.h+")","g")),u=u.replace(this.M,e=>this.matcher.get(e))),u&&this.replacer)for(h=0;u&&h<this.replacer.length;h+=2)u=u.replace(this.replacer[h],this.replacer[h+1]);if(this.cache&&f.length<=this.L&&(this.G.set(f,u),this.G.size>this.S&&(this.G.clear(),this.L=this.L/1.1|0)),u){if(u!==f)if(t){if(n[u])continue;n[u]=1}else{if(l===u)continue;l=u}r.push(u)}}}return this.finalize&&(r=this.finalize(r)||r),this.cache&&e.length<=this.K&&(this.B.set(e,r),this.B.size>this.S&&(this.B.clear(),this.K=this.K/1.1|0)),r};let j=0;function M(e={}){var t,r,n;function s(t){function i(e){let t=(e=e.data||e).id,i=t&&h.h[t];i&&(i(e.msg),delete h.h[t])}if(this.worker=t,this.h=u(),this.worker)return(o?this.worker.on("message",i):this.worker.onmessage=i,e.config)?new Promise(function(t){h.h[++j]=function(){t(h),1e9<j&&(j=0)},h.worker.postMessage({id:j,task:"init",factory:l,options:e})}):(this.worker.postMessage({task:"init",factory:l,options:e}),this.priority=e.priority||4,this)}if(!this||this.constructor!==M)return new M(e);let l="undefined"!=typeof self?self._factory:"undefined"!=typeof window?window._factory:null;l&&(l=l.toString());let o="undefined"==typeof window,h=this,f=(t=l,r=o,n=e.worker,r?new(i(7809)).Worker("//worker/node.js"):t?new window.Worker(URL.createObjectURL(new Blob(["onmessage="+v.toString()],{type:"text/javascript"}))):new window.Worker("string"==typeof n?n:"file:///Users/tahaal/Documents/GitHub/bwsalitech/bwsalitech-nextjs/node_modules/flexsearch/dist/flexsearch.bundle.module.min.js".replace("/worker.js","/worker/worker.js").replace("flexsearch.bundle.module.min.js","module/worker/worker.js"),{type:"module"}));return f.then?f.then(function(e){return s.call(h,e)}):s.call(this,f)}function S(e){M.prototype[e]=function(){let t,i=this,r=[].slice.call(arguments);var n=r[r.length-1];return"function"==typeof n&&(t=n,r.pop()),n=new Promise(function(t){"export"===e&&"function"==typeof r[0]&&(r[0]=null),i.h[++j]=t,i.worker.postMessage({task:e,id:j,args:r})}),t?(n.then(t),this):n}}function C(e,t=0){let i=[],r=[];for(let n of(t&&(t=25e4/t*5e3|0),e.entries()))r.push(n),r.length===t&&(i.push(r),r=[]);return r.length&&i.push(r),i}function P(e,t){t||(t=new Map);for(let i=0,r;i<e.length;i++)r=e[i],t.set(r[0],r[1]);return t}function z(e,t=0){let i=[],r=[];for(let n of(t&&(t=25e4/t*1e3|0),e.entries()))r.push([n[0],C(n[1])[0]]),r.length===t&&(i.push(r),r=[]);return r.length&&i.push(r),i}function O(e,t){t||(t=new Map);for(let i=0,r,n;i<e.length;i++)r=e[i],n=t.get(r[0]),t.set(r[0],P(r[1],n));return t}function E(e){let t=[],i=[];for(let r of e.keys())i.push(r),25e4===i.length&&(t.push(i),i=[]);return i.length&&t.push(i),t}function R(e,t){t||(t=new Set);for(let i=0;i<e.length;i++)t.add(e[i]);return t}function A(e,t,i,r,n,s,l=0){let o=r&&r.constructor===Array;var h=o?r.shift():r;if(!h)return this.export(e,t,n,s+1);if((h=e((t?t+".":"")+(l+1)+"."+i,JSON.stringify(h)))&&h.then){let u=this;return h.then(function(){return A.call(u,e,t,i,o?r:null,n,s,l+1)})}return A.call(this,e,t,i,o?r:null,n,s,l+1)}function D(e,t){let i="";for(let r of e.entries()){e=r[0];let n=r[1],s="";for(let e=0,i;e<n.length;e++){i=n[e]||[""];let r="";for(let e=0;e<i.length;e++)r+=(r?",":"")+("string"===t?'"'+i[e]+'"':i[e]);r="["+r+"]",s+=(s?",":"")+r}s='["'+e+'",['+s+"]]",i+=(i?",":"")+s}return i}function I(e,t,i,r){let n=[];for(let s=0,l;s<e.index.length;s++)if(t>=(l=e.index[s]).length)t-=l.length;else{let s=(t=l[r?"splice":"slice"](t,i)).length;if(s&&(n=n.length?n.concat(t):t,i-=s,r&&(e.length-=s),!i))break;t=0}return n}function L(e){if(!this||this.constructor!==L)return new L(e);this.index=e?[e]:[],this.length=e?e.length:0;let t=this;return new Proxy([],{get:(e,i)=>"length"===i?t.length:"push"===i?function(e){t.index[t.index.length-1].push(e),t.length++}:"pop"===i?function(){if(t.length)return t.length--,t.index[t.index.length-1].pop()}:"indexOf"===i?function(e){let i=0;for(let r=0,n,s;r<t.index.length;r++){if(0<=(s=(n=t.index[r]).indexOf(e)))return i+s;i+=n.length}return -1}:"includes"===i?function(e){for(let i=0;i<t.index.length;i++)if(t.index[i].includes(e))return!0;return!1}:"slice"===i?function(e,i){return I(t,e||0,i||t.length,!1)}:"splice"===i?function(e,i){return I(t,e||0,i||t.length,!0)}:"constructor"===i?Array:"symbol"!=typeof i?(e=t.index[i/0x80000000|0])&&e[i]:void 0,set:(e,i,r)=>(e=i/0x80000000|0,(t.index[e]||(t.index[e]=[]))[i]=r,t.length++,!0)})}function B(e=8){if(!this||this.constructor!==B)return new B(e);this.index=u(),this.h=[],this.size=0,32<e?(this.B=F,this.A=BigInt(e)):(this.B=T,this.A=e)}function N(e=8){if(!this||this.constructor!==N)return new N(e);this.index=u(),this.h=[],this.size=0,32<e?(this.B=F,this.A=BigInt(e)):(this.B=T,this.A=e)}function T(e){let t=2**this.A-1;if("number"==typeof e)return e&t;let i=0,r=this.A+1;for(let n=0;n<e.length;n++)i=(i*r^e.charCodeAt(n))&t;return 32===this.A?i+0x80000000:i}function F(e){let t=BigInt(2)**this.A-BigInt(1);var i=typeof e;if("bigint"===i)return e&t;if("number"===i)return BigInt(e)&t;i=BigInt(0);let r=this.A+BigInt(1);for(let n=0;n<e.length;n++)i=(i*r^BigInt(e.charCodeAt(n)))&t;return i}function $(e,t,i,r,n,s,l){let o=e.length,h=[],f,a;f=u();for(let u=0,c,d,p,g;u<t;u++)for(let t=0;t<o;t++)if(u<(p=e[t]).length&&(c=p[u]))for(let e=0;e<c.length;e++){if((a=f[d=c[e]])?f[d]++:(a=0,f[d]=1),g=h[a]||(h[a]=[]),!l){let e=u+(t||!n?0:s||0);g=g[e]||(g[e]=[])}if(g.push(d),l&&i&&a===o-1&&g.length-r===i)return r?g.slice(r):g}if(e=h.length)if(n)h=1<h.length?G(h,i,r,l,s):(h=h[0]).length>i||r?h.slice(r,i+r):h;else{if(e<o)return[];if(h=h[e-1],i||r)if(l)(h.length>i||r)&&(h=h.slice(r,i+r));else{n=[];for(let e=0,t;e<h.length;e++)if((t=h[e]).length>r)r-=t.length;else if((t.length>i||r)&&(t=t.slice(r,i+r),i-=t.length,r&&(r-=t.length)),n.push(t),!i)break;h=1<n.length?[].concat.apply([],n):n[0]}}return h}function G(e,t,i,r,n){let s,l,o=[],h=u();var f=e.length;if(r){for(n=f-1;0<=n;n--)if(l=(r=e[n])&&r.length){for(f=0;f<l;f++)if(!h[s=r[f]]){if(h[s]=1,i)i--;else if(o.push(s),o.length===t)return o}}}else for(let u=f-1,a,c=0;0<=u;u--){a=e[u];for(let e=0;e<a.length;e++)if(l=(r=a[e])&&r.length){for(let a=0;a<l;a++)if(!h[s=r[a]])if(h[s]=1,i)i--;else{let i=(e+(u<f-1&&n||0))/(u+1)|0;if((o[i]||(o[i]=[])).push(s),++c===t)return o}}}return o}function J(e,t,i,r){if(!e.length)return e;if(1===e.length)return e=e[0],e=i||e.length>t?t?e.slice(i,i+t):e.slice(i):e,r?et.call(this,e):e;let n=[];for(let s=0,l,o;s<e.length;s++)if((l=e[s])&&(o=l.length)){if(i){if(i>=o){i-=o;continue}i<o&&(o=(l=t?l.slice(i,i+t):l.slice(i)).length,i=0)}if(o>t&&(l=l.slice(0,t),o=t),!n.length&&o>=t)return r?et.call(this,l):l;if(n.push(l),!(t-=o))break}return n=1<n.length?[].concat.apply([],n):n[0],r?et.call(this,n):n}function U(e,t,i){var r=i[0];if(r.then)return Promise.all(i).then(function(i){return e[t].apply(e,i)});if(r[0]&&r[0].index)return e[t].apply(e,r);r=[];let n=[],s=0,l=0,o,h,u;for(let f=0,a;f<i.length;f++)if(a=i[f]){let i;if(a.constructor===Y)i=a.result;else if(a.constructor===Array)i=a;else if(s=a.limit||0,l=a.offset||0,u=a.suggest,h=a.resolve,o=a.enrich&&h,a.index)a.resolve=!1,i=a.index.search(a).result,a.resolve=h;else if(a.and)i=e.and(a.and);else if(a.or)i=e.or(a.or);else if(a.xor)i=e.xor(a.xor);else{if(!a.not)continue;i=e.not(a.not)}if(i.then)n.push(i);else if(i.length)r[f]=i;else if(!u&&("and"===t||"xor"===t)){r=[];break}}return{O:r,P:n,limit:s,offset:l,enrich:o,resolve:h,suggest:u}}function q(e,t,i,r,n,s){if(t.length){let l=this;return Promise.all(t).then(function(t){e=[];for(let i=0,r;i<t.length;i++)(r=t[i]).length&&(e[i]=r);return q.call(l,e,[],i,r,n,s)})}return e.length&&(this.result.length&&e.push(this.result),2>e.length?this.result=e[0]:(this.result=G(e,i,r,!1,this.h),r=0)),s?this.resolve(i,r,n):this}function K(e,t,i,r,n,s,l){if(t.length){let o=this;return Promise.all(t).then(function(t){e=[];for(let i=0,r;i<t.length;i++)(r=t[i]).length&&(e[i]=r);return K.call(o,e,[],i,r,n,s,l)})}if(e.length)if(this.result.length&&e.unshift(this.result),2>e.length)this.result=e[0];else{if(t=function(e){let t=0;for(let i=0,r;i<e.length;i++)(r=e[i])&&t<r.length&&(t=r.length);return t}(e))return this.result=$(e,t,i,r,l,this.h,s),s?n?et.call(this.index,this.result):this.result:this;this.result=[]}else l||(this.result=e);return s?this.resolve(i,r,n):this}function H(e,t,i,r,n,s,l){if(t.length){let o=this;return Promise.all(t).then(function(t){e=[];for(let i=0,r;i<t.length;i++)(r=t[i]).length&&(e[i]=r);return H.call(o,e,[],i,r,n,s,l)})}if(e.length)if(this.result.length&&e.unshift(this.result),!(2>e.length))return this.result=W.call(this,e,i,r,s,this.h),s?n?et.call(this.index,this.result):this.result:this;else this.result=e[0];else l||(this.result=e);return s?this.resolve(i,r,n):this}function W(e,t,i,r,n){let s=[],l=u(),o=0;for(let t=0,i;t<e.length;t++)if(i=e[t]){o<i.length&&(o=i.length);for(let e=0,t;e<i.length;e++)if(t=i[e])for(let e=0,i;e<t.length;e++)l[i=t[e]]=l[i]?2:1}for(let h=0,u,f=0;h<o;h++)for(let o=0,a;o<e.length;o++)if((a=e[o])&&(u=a[h])){for(let e=0,a;e<u.length;e++)if(1===l[a=u[e]])if(i)i--;else if(r){if(s.push(a),s.length===t)return s}else{let e=h+(o?n:0);if(s[e]||(s[e]=[]),s[e].push(a),++f===t)return s}}return s}function V(e,t,i,r,n,s,l){if(t.length){let o=this;return Promise.all(t).then(function(t){e=[];for(let i=0,r;i<t.length;i++)(r=t[i]).length&&(e[i]=r);return V.call(o,e,[],i,r,n,s,l)})}if(e.length&&this.result.length)this.result=X.call(this,e,i,r,s);else if(s)return this.resolve(i,r,n);return s?n?et.call(this.index,this.result):this.result:this}function X(e,t,i,r){let n=[];e=new Set(e.flat().flat());for(let s=0,l,o=0;s<this.result.length;s++)if(l=this.result[s]){for(let h=0,u;h<l.length;h++)if(u=l[h],!e.has(u)){if(i)i--;else if(r){if(n.push(u),n.length===t)return n}else if(n[s]||(n[s]=[]),n[s].push(u),++o===t)return n}}return n}function Y(e){return this&&this.constructor===Y?e&&e.index?(e.resolve=!1,this.index=e.index,this.h=e.boost||0,this.result=e.index.search(e).result,this):void(this.index=null,this.result=e||[],this.h=0):new Y(e)}function Z(e,t,i,r,n){let s,l;for(let h=0,u,f,a;h<t.length;h++){let d;if(r)d=t,a=r;else{var o=t[h];if(!(a=o.field))continue;d=o.result}u=(f=i.get(a)).encoder,o=f.tokenize,u!==s&&(l=(s=u).encode(e));for(let e=0;e<d.length;e++){let t="",i=c(d[e].doc,a).split(/\s+/);for(let e=0,r,s;e<i.length;e++){let h;if(r=i[e],(s=1<(s=u.encode(r)).length?s.join(" "):s[0])&&r)for(let e=0,i;e<l.length;e++)if(i=l[e],"strict"===o){if(s===i){t+=(t?" ":"")+n.replace("$1",r),h=!0;break}}else{let e=s.indexOf(i);if(-1<e){t+=(t?" ":"")+r.substring(0,e)+n.replace("$1",r.substring(e,e+i.length))+r.substring(e+i.length),h=!0;break}}h||(t+=(t?" ":"")+i[e])}d[e].highlight=t}if(r)break}return t}function Q(e){let t=[],i=u();for(let r=0,n,s;r<e.length;r++){s=(n=e[r]).result;for(let e=0,r,l,o;e<s.length;e++)"object"!=typeof(l=s[e])&&(l={id:l}),(o=i[r=l.id])?o.push(n.field):(l.field=i[r]=[n.field],t.push(l))}return t}function ee(e,t,i,r,n){return(e=this.tag.get(e))?(t=(e=e&&e.get(t))&&e.length-r)&&0<t?((t>i||r)&&(e=e.slice(r,r+i)),n&&(e=et.call(this,e)),e):void 0:[]}function et(e){if(!this||!this.store)return e;let t=Array(e.length);for(let i=0,r;i<e.length;i++)r=e[i],t[i]={id:r,doc:this.store.get(r)};return t}function ei(e){let t,i;if(!this||this.constructor!==ei)return new ei(e);let r=e.document||e.doc||e;if(this.F=[],this.field=[],this.J=[],this.key=(t=r.key||r.id)&&en(t,this.J)||"id",(i=e.keystore||0)&&(this.keystore=i),this.fastupdate=!!e.fastupdate,this.reg=!this.fastupdate||e.worker||e.db?i?new N(i):new Set:i?new B(i):new Map,this.C=(t=r.store||null)&&t&&!0!==t&&[],this.store=t&&(i?new B(i):new Map),this.cache=(t=e.cache||null)&&new el(t),e.cache=!1,this.worker=e.worker||!1,this.priority=e.priority||4,this.index=er.call(this,e,r),this.tag=null,(t=r.tag)&&("string"==typeof t&&(t=[t]),t.length)){this.tag=new Map,this.D=[],this.R=[];for(let e=0,i,r;e<t.length;e++){if(!(r=(i=t[e]).field||i))throw Error("The tag field from the document descriptor is undefined.");i.custom?this.D[e]=i.custom:(this.D[e]=en(r,this.J),i.filter&&("string"==typeof this.D[e]&&(this.D[e]=new String(this.D[e])),this.D[e].I=i.filter)),this.R[e]=r,this.tag.set(r,new Map)}}if(this.worker){this.fastupdate=!1;let e=[];for(let t of this.index.values())t.then&&e.push(t);if(e.length){let t=this;return Promise.all(e).then(function(i){let r=new Map,n=0;for(let l of t.index.entries()){let o=l[0];var s=l[1];if(s.then){s=e[n].encoder||{};let l=r.get(s);l||(l=s.encode?s:new b(s),r.set(s,l)),(s=i[n]).encoder=l,t.index.set(o,s),n++}}return t})}}else e.db&&(this.fastupdate=!1,this.mount(e.db))}function er(e,t){let i=new Map,r=t.index||t.field||t;f(r)&&(r=[r]);for(let t=0,n,s;t<r.length;t++){if(f(n=r[t])||(s=n,n=n.field),s=a(s)?Object.assign({},e,s):e,this.worker){let e=new M(s);e.encoder=s.encoder,i.set(n,e)}this.worker||i.set(n,new e_(s,this.reg)),s.custom?this.F[t]=s.custom:(this.F[t]=en(n,this.J),s.filter&&("string"==typeof this.F[t]&&(this.F[t]=new String(this.F[t])),this.F[t].I=s.filter)),this.field[t]=n}if(this.C){f(e=t.store)&&(e=[e]);for(let t=0,i,r;t<e.length;t++)r=(i=e[t]).field||i,i.custom?(this.C[t]=i.custom,i.custom.V=r):(this.C[t]=en(r,this.J),i.filter&&("string"==typeof this.C[t]&&(this.C[t]=new String(this.C[t])),this.C[t].I=i.filter))}return i}function en(e,t){let i=e.split(":"),r=0;for(let n=0;n<i.length;n++)"]"===(e=i[n])[e.length-1]&&(e=e.substring(0,e.length-2))&&(t[r]=!0),e&&(i[r++]=e);return r<i.length&&(i.length=r),1<r?i:i[0]}function es(e,t,i){let r=("object"==typeof e?""+e.query:e).toLowerCase();this.cache||(this.cache=new el);let n=this.cache.get(r);if(!n){if((n=this.search(e,t,i)).then){let e=this;n.then(function(t){return e.cache.set(r,t),t})}this.cache.set(r,n)}return n}function el(e){this.limit=e&&!0!==e?e:1e3,this.cache=new Map,this.h=""}S("add"),S("append"),S("search"),S("update"),S("remove"),S("clear"),S("export"),S("import"),x(M.prototype),L.prototype.clear=function(){this.index.length=0},L.prototype.destroy=function(){this.proxy=this.index=null},L.prototype.push=function(){},B.prototype.get=function(e){let t=this.index[this.B(e)];return t&&t.get(e)},B.prototype.set=function(e,t){var i=this.B(e);let r=this.index[i];r?(i=r.size,r.set(e,t),(i-=r.size)&&this.size++):(this.index[i]=r=new Map([[e,t]]),this.h.push(r),this.size++)},N.prototype.add=function(e){var t=this.B(e);let i=this.index[t];i?(t=i.size,i.add(e),(t-=i.size)&&this.size++):(this.index[t]=i=new Set([e]),this.h.push(i),this.size++)},(ed=B.prototype).has=N.prototype.has=function(e){let t=this.index[this.B(e)];return t&&t.has(e)},ed.delete=N.prototype.delete=function(e){let t=this.index[this.B(e)];t&&t.delete(e)&&this.size--},ed.clear=N.prototype.clear=function(){this.index=u(),this.h=[],this.size=0},ed.values=N.prototype.values=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].values())yield t},ed.keys=N.prototype.keys=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].keys())yield t},ed.entries=N.prototype.entries=function*(){for(let e=0;e<this.h.length;e++)for(let t of this.h[e].entries())yield t},ei.prototype.add=function(e,t,i){if(a(e)&&(e=c(t=e,this.key)),t&&(e||0===e)){if(!i&&this.reg.has(e))return this.update(e,t);for(let s=0,l;s<this.field.length;s++){l=this.F[s];var r=this.index.get(this.field[s]);if("function"==typeof l){var n=l(t);n&&r.add(e,n,!1,!0)}else(!(n=l.I)||n(t))&&(l.constructor===String?l=[""+l]:f(l)&&(l=[l]),function e(t,i,r,n,s,l,o,h){if(t=t[o])if(n===i.length-1){if(t.constructor===Array){if(r[n]){for(i=0;i<t.length;i++)s.add(l,t[i],!0,!0);return}t=t.join(" ")}s.add(l,t,h,!0)}else if(t.constructor===Array)for(o=0;o<t.length;o++)e(t,i,r,n,s,l,o,h);else o=i[++n],e(t,i,r,n,s,l,o,h);else s.db&&s.remove(l)}(t,l,this.J,0,r,e,l[0],i))}if(this.tag)for(r=0;r<this.D.length;r++){var s=this.D[r];n=this.tag.get(this.R[r]);let o=u();if("function"==typeof s){if(!(s=s(t)))continue}else{var l=s.I;if(l&&!l(t))continue;s.constructor===String&&(s=""+s),s=c(t,s)}if(n&&s){f(s)&&(s=[s]);for(let t=0,r,h;t<s.length;t++)if(!o[r=s[t]]&&(o[r]=1,(l=n.get(r))?h=l:n.set(r,h=[]),!i||!h.includes(e))){if(h.length===0x80000000-1){if(l=new L(h),this.fastupdate)for(let e of this.reg.values())e.includes(h)&&(e[e.indexOf(h)]=l);n.set(r,h=l)}h.push(e),this.fastupdate&&((l=this.reg.get(e))?l.push(h):this.reg.set(e,[h]))}}}if(this.store&&(!i||!this.store.has(e))){let r;if(this.C){r=u();for(let e=0,n;e<this.C.length;e++){let s;if(!(i=(n=this.C[e]).I)||i(t)){if("function"==typeof n){if(!(s=n(t)))continue;n=[n.V]}else if(f(n)||n.constructor===String){r[n]=t[n];continue}!function e(t,i,r,n,s,l){if(t=t[s],n===r.length-1)i[s]=l||t;else if(t)if(t.constructor===Array)for(i=i[s]=Array(t.length),s=0;s<t.length;s++)e(t,i,r,n,s);else i=i[s]||(i[s]=u()),s=r[++n],e(t,i,r,n,s)}(t,r,n,0,n[0],s)}}}this.store.set(e,r||t)}this.worker&&(this.fastupdate||this.reg.add(e))}return this},Y.prototype.or=function(){let{O:e,P:t,limit:i,offset:r,enrich:n,resolve:s}=U(this,"or",arguments);return q.call(this,e,t,i,r,n,s)},Y.prototype.and=function(){let e=this.result.length,t,i,r,n;if(!e){let s=arguments[0];s&&(e=!!s.suggest,n=s.resolve,t=s.limit,i=s.offset,r=s.enrich&&n)}if(e){let{O:e,P:t,limit:i,offset:r,enrich:n,resolve:s,suggest:l}=U(this,"and",arguments);return K.call(this,e,t,i,r,n,s,l)}return n?this.resolve(t,i,r):this},Y.prototype.xor=function(){let{O:e,P:t,limit:i,offset:r,enrich:n,resolve:s,suggest:l}=U(this,"xor",arguments);return H.call(this,e,t,i,r,n,s,l)},Y.prototype.not=function(){let{O:e,P:t,limit:i,offset:r,enrich:n,resolve:s,suggest:l}=U(this,"not",arguments);return V.call(this,e,t,i,r,n,s,l)},Y.prototype.limit=function(e){if(this.result.length){let t=[];for(let i=0,r;i<this.result.length;i++)if(r=this.result[i])if(r.length<=e){if(t[i]=r,!(e-=r.length))break}else{t[i]=r.slice(0,e);break}this.result=t}return this},Y.prototype.offset=function(e){if(this.result.length){let t=[];for(let i=0,r;i<this.result.length;i++)(r=this.result[i])&&(r.length<=e?e-=r.length:(t[i]=r.slice(e),e=0));this.result=t}return this},Y.prototype.boost=function(e){return this.h+=e,this},Y.prototype.resolve=function(e,t,i){let r=this.result,n=this.index;return this.result=this.index=null,r.length?("object"==typeof e&&(i=e.enrich,t=e.offset,e=e.limit),J.call(n,r,e||100,t,i)):r},u(),ei.prototype.search=function(e,t,i,r){let n,s,l,o,h,c;i||(!t&&a(e)?(i=e,e=""):a(t)&&(i=t,t=0));let d=[];var p,g=[];let m=0;var y=!0;if(i){i.constructor===Array&&(i={index:i}),e=i.query||e,n=i.pluck,s=i.merge,l=n||i.field||(l=i.index)&&(l.index?null:l),o=this.tag&&i.tag;var b=i.suggest;(y=!1!==i.resolve)||n||!(l=l||this.field)||(f(l)?n=l:(l.constructor===Array&&1===l.length&&(l=l[0]),n=l.field||l.index)),h=(p=this.store&&i.enrich&&y)&&i.highlight,t=i.limit||t;var w=i.offset||0;if(t||(t=100),o&&(!this.db||!r)){o.constructor!==Array&&(o=[o]);var v=[];for(let e=0,t;e<o.length;e++)if((t=o[e]).field&&t.tag){var x=t.tag;if(x.constructor===Array)for(var k=0;k<x.length;k++)v.push(t.field,x[k]);else v.push(t.field,x)}else{x=Object.keys(t);for(let e=0,i,r;e<x.length;e++)if((r=t[i=x[e]]).constructor===Array)for(k=0;k<r.length;k++)v.push(i,r[k]);else v.push(i,r)}if(o=v,!e){if(y=[],v.length)for(g=0;g<v.length;g+=2){if(this.db){if(!(b=this.index.get(v[g])))continue;y.push(b=b.db.tag(v[g+1],t,w,p))}else b=ee.call(this,v[g],v[g+1],t,w,p);d.push({field:v[g],tag:v[g+1],result:b})}return y.length?Promise.all(y).then(function(e){for(let t=0;t<e.length;t++)d[t].result=e[t];return d}):d}}l&&l.constructor!==Array&&(l=[l])}l||(l=this.field),v=!r&&(this.worker||this.db)&&[];for(let n=0,s,h,a;n<l.length;n++){let _;if(h=l[n],!this.db||!this.tag||this.F[n]){if(f(h)||(h=(_=h).field,e=_.query||e,t=_.limit||t,w=_.offset||w,b=_.suggest||b,p=this.store&&(_.enrich||p)),r)s=r[n];else if(x=_||i,k=this.index.get(h),o&&(this.db&&(x.tag=o,c=k.db.support_tag_search,x.field=l),c||(x.enrich=!1)),v){v[n]=k.search(e,t,x),x&&p&&(x.enrich=p);continue}else s=k.search(e,t,x),x&&p&&(x.enrich=p);if(a=s&&(y?s.length:s.result.length),o&&a){if(x=[],k=0,this.db&&r){if(!c)for(let e=l.length;e<r.length;e++){let t=r[e];if(t&&t.length)k++,x.push(t);else if(!b)return y?d:new Y(d)}}else for(let e=0,t;e<o.length;e+=2){if(!(t=this.tag.get(o[e])))if(b)continue;else return y?d:new Y(d);if((t=t&&t.get(o[e+1]))&&t.length)k++,x.push(t);else if(!b)return y?d:new Y(d)}if(k){if(!(a=(s=function(e,t,i){let r=u(),n=[];for(let e=0,i;e<t.length;e++){i=t[e];for(let e=0;e<i.length;e++)r[i[e]]=1}if(i)for(let t=0,i;t<e.length;t++)r[i=e[t]]&&(n.push(i),r[i]=0);else for(let i=0,s,l;i<e.result.length;i++)for(s=e.result[i],t=0;t<s.length;t++)r[l=s[t]]&&((n[i]||(n[i]=[])).push(l),r[l]=0);return n}(s,x,y)).length)&&!b)return y?s:new Y(s);k--}}if(a)g[m]=h,d.push(s),m++;else if(1===l.length)return y?d:new Y(d)}}if(v){if(this.db&&o&&o.length&&!c)for(p=0;p<o.length;p+=2){if(!(g=this.index.get(o[p])))if(b)continue;else return y?d:new Y(d);v.push(g.db.tag(o[p+1],t,w,!1))}let r=this;return Promise.all(v).then(function(n){return n.length?r.search(e,t,i,n):n})}if(!m)return y?d:new Y(d);if(n&&(!p||!this.store))return d[0];for(w=0,v=[];w<g.length;w++){if(b=d[w],p&&b.length&&void 0===b[0].doc&&(this.db?v.push(b=this.index.get(this.field[0]).db.enrich(b)):b=et.call(this,b)),n)return y?h?Z(e,b,this.index,n,h):b:new Y(b);d[w]={field:g[w],result:b}}if(p&&this.db&&v.length){let t=this;return Promise.all(v).then(function(i){for(let e=0;e<i.length;e++)d[e].result=i[e];return s?Q(d):h?Z(e,d,t.index,n,h):d})}return s?Q(d):h?Z(e,d,this.index,n,h):d},(ed=ei.prototype).mount=function(e){let t=this.field;if(this.tag)for(let e=0,r;e<this.R.length;e++){r=this.R[e];var i=void 0;this.index.set(r,i=new e_({},this.reg)),t===this.field&&(t=t.slice(0)),t.push(r),i.tag=this.tag.get(r)}i=[];let r={db:e.db,type:e.type,fastupdate:e.fastupdate};for(let n=0,s,l;n<t.length;n++){r.field=l=t[n],s=this.index.get(l);let o=new e.constructor(e.id,r);o.id=e.id,i[n]=o.mount(s),s.document=!0,n?s.bypass=!0:s.store=this.store}let n=this;return this.db=Promise.all(i).then(function(){n.db=!0})},ed.commit=async function(e,t){let i=[];for(let r of this.index.values())i.push(r.commit(e,t));await Promise.all(i),this.reg.clear()},ed.destroy=function(){let e=[];for(let t of this.index.values())e.push(t.destroy());return Promise.all(e)},ed.append=function(e,t){return this.add(e,t,!0)},ed.update=function(e,t){return this.remove(e).add(e,t)},ed.remove=function(e){for(var t of(a(e)&&(e=c(e,this.key)),this.index.values()))t.remove(e,!0);if(this.reg.has(e)){if(this.tag&&!this.fastupdate)for(let i of this.tag.values())for(let r of i){t=r[0];let n=r[1],s=n.indexOf(e);-1<s&&(1<n.length?n.splice(s,1):i.delete(t))}this.store&&this.store.delete(e),this.reg.delete(e)}return this.cache&&this.cache.remove(e),this},ed.clear=function(){let e=[];for(let t of this.index.values()){let i=t.clear();i.then&&e.push(i)}if(this.tag)for(let e of this.tag.values())e.clear();return this.store&&this.store.clear(),this.cache&&this.cache.clear(),e.length?Promise.all(e):this},ed.contain=function(e){return this.db?this.index.get(this.field[0]).db.has(e):this.reg.has(e)},ed.cleanup=function(){for(let e of this.index.values())e.cleanup();return this},ed.get=function(e){return this.db?this.index.get(this.field[0]).db.enrich(e).then(function(e){return e[0]&&e[0].doc||null}):this.store.get(e)||null},ed.set=function(e,t){return"object"==typeof e&&(e=c(t=e,this.key)),this.store.set(e,t),this},ed.searchCache=es,ed.export=function(e,t,i=0,r=0){let n,s;if(i<this.field.length){let n=this.field[i];if((t=this.index.get(n).export(e,n,i,r=1))&&t.then){let r=this;return t.then(function(){return r.export(e,n,i+1)})}return this.export(e,n,i+1)}switch(r){case 0:n="reg",s=E(this.reg),t=null;break;case 1:n="tag",s=this.tag&&z(this.tag,this.reg.size),t=null;break;case 2:n="doc",s=this.store&&C(this.store),t=null;break;default:return}return A.call(this,e,t,n,s,i,r)},ed.import=function(e,t){var i=e.split(".");"json"===i[i.length-1]&&i.pop();let r=2<i.length?i[0]:"";if(i=2<i.length?i[2]:i[1],this.worker&&r)return this.index.get(r).import(e);if(t){if("string"==typeof t&&(t=JSON.parse(t)),r)return this.index.get(r).import(i,t);switch(i){case"reg":this.fastupdate=!1,this.reg=R(t,this.reg);for(let e=0,t;e<this.field.length;e++)(t=this.index.get(this.field[e])).fastupdate=!1,t.reg=this.reg;if(this.worker){for(let i of(t=[],this.index.values()))t.push(i.import(e));return Promise.all(t)}break;case"tag":this.tag=O(t,this.tag);break;case"doc":this.store=P(t,this.store)}}},x(ei.prototype),el.prototype.set=function(e,t){this.cache.set(this.h=e,t),this.cache.size>this.limit&&this.cache.delete(this.cache.keys().next().value)},el.prototype.get=function(e){let t=this.cache.get(e);return t&&this.h!==e&&(this.cache.delete(e),this.cache.set(this.h=e,t)),t},el.prototype.remove=function(e){for(let t of this.cache){let i=t[0];t[1].includes(e)&&this.cache.delete(i)}},el.prototype.clear=function(){this.cache.clear(),this.h=""};let eo={normalize:!1,numeric:!1,dedupe:!1},eh={},eu=new Map([["b","p"],["v","f"],["w","f"],["z","s"],["x","s"],["d","t"],["n","m"],["c","k"],["g","k"],["j","k"],["q","k"],["i","e"],["y","e"],["u","o"]]),ef=new Map([["ae","a"],["oe","o"],["sh","s"],["kh","k"],["th","t"],["ph","f"],["pf","f"]]),ea=[/([^aeo])h(.)/g,"$1$2",/([aeo])h([^aeo]|$)/g,"$1$2",/(.)\1+/g,"$1"],ec={a:"",e:"",i:"",o:"",u:"",y:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,ß:2,d:3,t:3,l:4,m:5,n:5,r:6};var ed,ep={Exact:eo,Default:eh,Normalize:eh,LatinBalance:{mapper:eu},LatinAdvanced:{mapper:eu,matcher:ef,replacer:ea},LatinExtra:{mapper:eu,replacer:ea.concat([/(?!^)[aeo]/g,""]),matcher:ef},LatinSoundex:{dedupe:!1,include:{letter:!0},finalize:function(e){for(let i=0;i<e.length;i++){var t=e[i];let r=t.charAt(0),n=ec[r];for(let e=1,i;e<t.length&&("h"===(i=t.charAt(e))||"w"===i||!(i=ec[i])||i===n||(r+=i,n=i,4!==r.length));e++);e[i]=r}}},CJK:{split:""},LatinExact:eo,LatinDefault:eh,LatinSimple:eh};function eg(e,t){let i=0;var r=void 0===t;if(e.constructor===Array){for(let n=0,s,l;n<e.length;n++)if((s=e[n])&&s.length)if(r)i++;else if(0<=(l=s.indexOf(t))){1<s.length?(s.splice(l,1),i++):delete e[n];break}else i++}else for(let n of e.entries()){r=n[0];let s=eg(n[1],t);s?i+=s:e.delete(r)}return i}e_.prototype.remove=function(e,t){let i=this.reg.size&&(this.fastupdate?this.reg.get(e):this.reg.has(e));if(i){if(this.fastupdate){for(let t=0,r;t<i.length;t++)if(r=i[t])if(2>r.length)r.pop();else{let t=r.indexOf(e);t===i.length-1?r.pop():r.splice(t,1)}}else eg(this.map,e),this.depth&&eg(this.ctx,e);t||this.reg.delete(e)}return this.db&&(this.commit_task.push({del:e}),this.T&&ej(this)),this.cache&&this.cache.remove(e),this};let em={memory:{resolution:1},performance:{resolution:3,fastupdate:!0,context:{depth:1,resolution:1}},match:{tokenize:"forward"},score:{resolution:9,context:{depth:2,resolution:3}}};function ey(e,t,i,r,n,s,l){let o=l?e.ctx:e.map,h;if((!t[i]||l&&!(h=t[i])[l])&&(l?((t=h||(t[i]=u()))[l]=1,(h=o.get(l))?o=h:o.set(l,o=new Map)):t[i]=1,(h=o.get(i))?o=h:o.set(i,o=h=[]),o=o[r]||(o[r]=[]),!s||!o.includes(n))){if(o.length===0x80000000-1){if(t=new L(o),e.fastupdate)for(let i of e.reg.values())i.includes(o)&&(i[i.indexOf(o)]=t);h[r]=o=t}o.push(n),e.fastupdate&&((r=e.reg.get(n))?r.push(o):e.reg.set(n,[o]))}}function eb(e,t,i,r,n){return i&&1<e?t+(r||0)<=e?i+(n||0):(e-1)/(t+(r||0))*(i+(n||0))+1|0:0}function ew(e,t,i,r,n,s,l){let o=e.length,h=e;if(1<o)h=$(e,t,i,r,n,s,l);else if(1===o)return l?J.call(null,e[0],i,r):new Y(e[0]);return l?h:new Y(h)}function ev(e,t,i,r,n,s,l){return e=ek(this,e,t,i,r,n,s,l),this.db?e.then(function(e){return n?e||[]:new Y(e)}):e&&e.length?n?J.call(this,e,i,r):new Y(e):n?[]:new Y}function ex(e,t,i,r){let n=[];if(e&&e.length){if(e.length<=r)return void t.push(e);for(let t=0,i;t<r;t++)(i=e[t])&&(n[t]=i);if(n.length)return void t.push(n)}if(!i)return n}function ek(e,t,i,r,n,s,l,o){let h;return(i&&(h=e.bidirectional&&t>i)&&(h=i,i=t,t=h),e.db)?e.db.get(t,i,r,n,s,l,o):e=i?(e=e.ctx.get(i))&&e.get(t):e.map.get(t)}function e_(e,t){if(!this||this.constructor!==e_)return new e_(e);if(e){var i=f(e)?e:e.preset;i&&(e=Object.assign({},em[i],e))}else e={};let r=!0===(i=e.context)?{depth:1}:i||{},n=f(e.encoder)?ep[e.encoder]:e.encode||e.encoder||{};this.encoder=n.encode?n:"object"==typeof n?new b(n):{encode:n},this.resolution=e.resolution||9,this.tokenize=i=(i=e.tokenize)&&"default"!==i&&"exact"!==i&&i||"strict",this.depth="strict"===i&&r.depth||0,this.bidirectional=!1!==r.bidirectional,this.fastupdate=!!e.fastupdate,this.score=e.score||null,(i=e.keystore||0)&&(this.keystore=i),this.map=i?new B(i):new Map,this.ctx=i?new B(i):new Map,this.reg=t||(this.fastupdate?i?new B(i):new Map:i?new N(i):new Set),this.U=r.resolution||3,this.rtl=n.rtl||e.rtl||!1,this.cache=(i=e.cache||null)&&new el(i),this.resolve=!1!==e.resolve,(i=e.db)&&(this.db=this.mount(i)),this.T=!1!==e.commit,this.commit_task=[],this.commit_timer=null,this.priority=e.priority||4}function ej(e){e.commit_timer||(e.commit_timer=setTimeout(function(){e.commit_timer=null,e.db.commit(e,void 0,void 0)},1))}e_.prototype.add=function(e,t,i,r){if(t&&(e||0===e)){if(!r&&!i&&this.reg.has(e))return this.update(e,t);r=this.depth;let f=(t=this.encoder.encode(t,!r)).length;if(f){let a=u(),c=u(),d=this.resolution;for(let p=0;p<f;p++){let g=t[this.rtl?f-1-p:p];var n=g.length;if(n&&(r||!c[g])){var s=this.score?this.score(t,g,p,null,0):eb(d,f,p),l="";switch(this.tokenize){case"full":if(2<n){for(let r=0,h;r<n;r++)for(s=n;s>r;s--){l=g.substring(r,s),h=this.rtl?n-1-r:r;var o=this.score?this.score(t,g,p,l,h):eb(d,f,p,n,h);ey(this,c,l,o,e,i)}break}case"bidirectional":case"reverse":if(1<n){for(o=n-1;0<o;o--){l=g[this.rtl?n-1-o:o]+l;var h=this.score?this.score(t,g,p,l,o):eb(d,f,p,n,o);ey(this,c,l,h,e,i)}l=""}case"forward":if(1<n){for(o=0;o<n;o++)ey(this,c,l+=g[this.rtl?n-1-o:o],s,e,i);break}default:if(ey(this,c,g,s,e,i),r&&1<f&&p<f-1){for(n=u(),l=this.U,s=g,o=Math.min(r+1,this.rtl?p+1:f-p),n[s]=1,h=1;h<o;h++)if((g=t[this.rtl?f-1-p-h:p+h])&&!n[g]){n[g]=1;let r=this.score?this.score(t,s,p,g,h-1):eb(l+(f/2>l?0:1),f,p,o-1,h-1),u=this.bidirectional&&g>s;ey(this,a,u?s:g,r,e,i,u?g:s)}}}}}this.fastupdate||this.reg.add(e)}else t=""}return this.db&&(t||this.commit_task.push({del:e}),this.T&&ej(this)),this},e_.prototype.search=function(e,t,i){i||(t||"object"!=typeof e?"object"==typeof t&&(i=t,t=0):(i=e,e=""));let r=[],n,s,l,o=0,h,f,a,c,d;i?(e=i.query||e,t=i.limit||t,o=i.offset||0,s=i.context,l=i.suggest,d=(h=!1!==i.resolve)&&i.enrich,a=i.boost,c=i.resolution,f=this.db&&i.tag):h=this.resolve,s=this.depth&&!1!==s;let p=this.encoder.encode(e,!s);if(n=p.length,t=t||100*!!h,1===n)return ev.call(this,p[0],"",t,o,h,d,f);if(2===n&&s&&!l)return ev.call(this,p[1],p[0],t,o,h,d,f);let g=u(),m=0,y;if(s&&(y=p[0],m=1),c||0===c||(c=y?this.U:this.resolution),this.db){if(this.db.search&&!1!==(e=this.db.search(this,p,t,o,l,h,d,f)))return e;let i=this;return async function(){for(let e,t;m<n;m++){if((t=p[m])&&!g[t]){if(g[t]=1,e=ex(e=await ek(i,t,y,0,0,!1,!1),r,l,c)){r=e;break}y&&(l&&e&&r.length||(y=t))}l&&y&&m===n-1&&!r.length&&(c=i.resolution,y="",m=-1,g=u())}return ew(r,c,t,o,l,a,h)}()}for(let e,t;m<n;m++){if((t=p[m])&&!g[t]){if(g[t]=1,e=ex(e=ek(this,t,y,0,0,!1,!1),r,l,c)){r=e;break}y&&(l&&e&&r.length||(y=t))}l&&y&&m===n-1&&!r.length&&(c=this.resolution,y="",m=-1,g=u())}return ew(r,c,t,o,l,a,h)},(ed=e_.prototype).mount=function(e){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),e.mount(this)},ed.commit=function(e,t){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.commit(this,e,t)},ed.destroy=function(){return this.commit_timer&&(clearTimeout(this.commit_timer),this.commit_timer=null),this.db.destroy()},ed.clear=function(){return this.map.clear(),this.ctx.clear(),this.reg.clear(),this.cache&&this.cache.clear(),this.db&&(this.commit_timer&&clearTimeout(this.commit_timer),this.commit_timer=null,this.commit_task=[{clear:!0}]),this},ed.append=function(e,t){return this.add(e,t,!0)},ed.contain=function(e){return this.db?this.db.has(e):this.reg.has(e)},ed.update=function(e,t){let i=this,r=this.remove(e);return r&&r.then?r.then(()=>i.add(e,t)):this.add(e,t)},ed.cleanup=function(){return this.fastupdate&&(eg(this.map),this.depth&&eg(this.ctx)),this},ed.searchCache=es,ed.export=function(e,t,i=0,r=0){let n,s;switch(r){case 0:n="reg",s=E(this.reg);break;case 1:n="cfg",s=null;break;case 2:n="map",s=C(this.map,this.reg.size);break;case 3:n="ctx",s=z(this.ctx,this.reg.size);break;default:return}return A.call(this,e,t,n,s,i,r)},ed.import=function(e,t){if(t)switch("string"==typeof t&&(t=JSON.parse(t)),"json"===(e=e.split("."))[e.length-1]&&e.pop(),3===e.length&&e.shift(),e=1<e.length?e[1]:e[0]){case"reg":this.fastupdate=!1,this.reg=R(t,this.reg);break;case"map":this.map=P(t,this.map);break;case"ctx":this.ctx=O(t,this.ctx)}},ed.serialize=function(e=!0){let t="",i="",r="";if(this.reg.size){let e;for(var n of this.reg.keys())e||(e=typeof n),t+=(t?",":"")+("string"===e?'"'+n+'"':n);for(let s of(t="index.reg=new Set(["+t+"]);",i="index.map=new Map(["+(i=D(this.map,e))+"]);",this.ctx.entries())){n=s[0];let t=D(s[1],e);t='["'+n+'",'+(t="new Map(["+t+"])")+"]",r+=(r?",":"")+t}r="index.ctx=new Map(["+r+"]);"}return e?"function inject(index){"+t+i+r+"}":t+i+r},x(e_.prototype);let eM="undefined"!=typeof window&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB),eS=["map","ctx","tag","reg","cfg"],eC=u();function eP(e,t={}){if(!this||this.constructor!==eP)return new eP(e,t);"object"==typeof e&&(t=e,e=e.name),e||console.info("Default storage space was used, because a name was not passed."),this.id="flexsearch"+(e?":"+e.toLowerCase().replace(/[^a-z0-9_\-]/g,""):""),this.field=t.field?t.field.toLowerCase().replace(/[^a-z0-9_\-]/g,""):"",this.type=t.type,this.fastupdate=this.support_tag_search=!1,this.db=null,this.h={}}function ez(e,t,i){let r=e.value,n,s=0;for(let e=0,l;e<r.length;e++){if(l=i?r:r[e]){for(let i=0,s,o;i<t.length;i++)if(o=t[i],0<=(s=l.indexOf(o)))if(n=1,1<l.length)l.splice(s,1);else{r[e]=[];break}s+=l.length}if(i)break}s?n&&e.update(r):e.delete(),e.continue()}function eO(e,t){return new Promise((i,r)=>{e.onsuccess=e.oncomplete=function(){t&&t(this.result),t=null,i(this.result)},e.onerror=e.onblocked=r,e=null})}(ed=eP.prototype).mount=function(e){return e.index?e.mount(this):(e.db=this,this.open())},ed.open=function(){if(this.db)return this.db;let e=this;navigator.storage&&navigator.storage.persist(),eC[e.id]||(eC[e.id]=[]),eC[e.id].push(e.field);let t=eM.open(e.id,1);return t.onupgradeneeded=function(){let t=e.db=this.result;for(let i=0,r;i<eS.length;i++){r=eS[i];for(let i=0,n;i<eC[e.id].length;i++)n=eC[e.id][i],t.objectStoreNames.contains(r+("reg"!==r&&n?":"+n:""))||t.createObjectStore(r+("reg"!==r&&n?":"+n:""))}},e.db=eO(t,function(t){e.db=t,e.db.onversionchange=function(){e.close()}})},ed.close=function(){this.db&&this.db.close(),this.db=null},ed.destroy=function(){return eO(eM.deleteDatabase(this.id))},ed.clear=function(){let e=[];for(let t=0,i;t<eS.length;t++){i=eS[t];for(let t=0,r;t<eC[this.id].length;t++)r=eC[this.id][t],e.push(i+("reg"!==i&&r?":"+r:""))}let t=this.db.transaction(e,"readwrite");for(let i=0;i<e.length;i++)t.objectStore(e[i]).clear();return eO(t)},ed.get=function(e,t,i=0,r=0,n=!0,s=!1){e=this.db.transaction((t?"ctx":"map")+(this.field?":"+this.field:""),"readonly").objectStore((t?"ctx":"map")+(this.field?":"+this.field:"")).get(t?t+":"+e:e);let l=this;return eO(e).then(function(e){let t=[];if(!e||!e.length)return t;if(n){if(!i&&!r&&1===e.length)return e[0];for(let n=0,s;n<e.length;n++)if((s=e[n])&&s.length){if(r>=s.length){r-=s.length;continue}let e=i?r+Math.min(s.length-r,i):s.length;for(let i=r;i<e;i++)t.push(s[i]);if(r=0,t.length===i)break}return s?l.enrich(t):t}return e})},ed.tag=function(e,t=0,i=0,r=!1){e=this.db.transaction("tag"+(this.field?":"+this.field:""),"readonly").objectStore("tag"+(this.field?":"+this.field:"")).get(e);let n=this;return eO(e).then(function(e){return e&&e.length&&!(i>=e.length)?t||i?(e=e.slice(i,i+t),r?n.enrich(e):e):e:[]})},ed.enrich=function(e){"object"!=typeof e&&(e=[e]);let t=this.db.transaction("reg","readonly").objectStore("reg"),i=[];for(let r=0;r<e.length;r++)i[r]=eO(t.get(e[r]));return Promise.all(i).then(function(t){for(let i=0;i<t.length;i++)t[i]={id:e[i],doc:t[i]?JSON.parse(t[i]):null};return t})},ed.has=function(e){return eO(e=this.db.transaction("reg","readonly").objectStore("reg").getKey(e)).then(function(e){return!!e})},ed.search=null,ed.info=function(){},ed.transaction=function(e,t,i){e+="reg"!==e&&this.field?":"+this.field:"";let r=this.h[e+":"+t];if(r)return i.call(this,r);let n=this.db.transaction(e,t);this.h[e+":"+t]=r=n.objectStore(e);let s=i.call(this,r);return this.h[e+":"+t]=null,eO(n).finally(function(){return n=r=null,s})},ed.commit=async function(e,t,i){if(t)await this.clear(),e.commit_task=[];else{let r=e.commit_task;e.commit_task=[];for(let e=0,i;e<r.length;e++)if((i=r[e]).clear){await this.clear(),t=!0;break}else r[e]=i.del;t||(i||(r=r.concat(function(e){let t=[];for(let i of e.keys())t.push(i);return t}(e.reg))),r.length&&await this.remove(r))}e.reg.size&&(await this.transaction("map","readwrite",function(i){for(let r of e.map){let e=r[0],n=r[1];n.length&&(t?i.put(n,e):i.get(e).onsuccess=function(){var t;let r=this.result;if(r&&r.length){let e=Math.max(r.length,n.length);for(let i=0,s,l;i<e;i++)if((l=n[i])&&l.length){if((s=r[i])&&s.length)for(t=0;t<l.length;t++)s.push(l[t]);else r[i]=l;t=1}}else r=n,t=1;t&&i.put(r,e)})}}),await this.transaction("ctx","readwrite",function(i){for(let r of e.ctx){let e=r[0];for(let n of r[1]){let r=n[0],s=n[1];s.length&&(t?i.put(s,e+":"+r):i.get(e+":"+r).onsuccess=function(){var t;let n=this.result;if(n&&n.length){let e=Math.max(n.length,s.length);for(let i=0,r,l;i<e;i++)if((l=s[i])&&l.length){if((r=n[i])&&r.length)for(t=0;t<l.length;t++)r.push(l[t]);else n[i]=l;t=1}}else n=s,t=1;t&&i.put(n,e+":"+r)})}}}),e.store?await this.transaction("reg","readwrite",function(t){for(let i of e.store){let e=i[0],r=i[1];t.put("object"==typeof r?JSON.stringify(r):1,e)}}):e.bypass||await this.transaction("reg","readwrite",function(t){for(let i of e.reg.keys())t.put(1,i)}),e.tag&&await this.transaction("tag","readwrite",function(t){for(let i of e.tag){let e=i[0],r=i[1];r.length&&(t.get(e).onsuccess=function(){let i=this.result;i=i&&i.length?i.concat(r):r,t.put(i,e)})}}),e.map.clear(),e.ctx.clear(),e.tag&&e.tag.clear(),e.store&&e.store.clear(),e.document||e.reg.clear())},ed.remove=function(e){return"object"!=typeof e&&(e=[e]),Promise.all([this.transaction("map","readwrite",function(t){t.openCursor().onsuccess=function(){let t=this.result;t&&ez(t,e)}}),this.transaction("ctx","readwrite",function(t){t.openCursor().onsuccess=function(){let t=this.result;t&&ez(t,e)}}),this.transaction("tag","readwrite",function(t){t.openCursor().onsuccess=function(){let t=this.result;t&&ez(t,e,!0)}}),this.transaction("reg","readwrite",function(t){for(let i=0;i<e.length;i++)t.delete(e[i])})])};let eE={Index:e_,Charset:ep,Encoder:b,Document:ei,Worker:M,Resolver:Y,IndexedDB:eP,Language:{}}}}]);